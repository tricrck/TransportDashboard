{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="mb-6 space-y-3">
            {% for category, message in messages %}
                {% if category == 'error' or category == 'danger' %}
                    <div class="flex items-start gap-3 p-4 bg-red-50 border border-red-200 rounded-xl" role="alert">
                        <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-exclamation-circle text-red-600"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-red-900 mb-1">Error</h4>
                            <p class="text-sm text-red-700">{{ message }}</p>
                        </div>
                        <button onclick="this.parentElement.remove()" class="text-red-400 hover:text-red-600 transition-colors">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                {% elif category == 'success' %}
                    <div class="flex items-start gap-3 p-4 bg-green-50 border border-green-200 rounded-xl" role="alert">
                        <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-check-circle text-green-600"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-green-900 mb-1">Success</h4>
                            <p class="text-sm text-green-700">{{ message }}</p>
                        </div>
                        <button onclick="this.parentElement.remove()" class="text-green-400 hover:text-green-600 transition-colors">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                {% elif category == 'warning' %}
                    <div class="flex items-start gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-xl" role="alert">
                        <div class="w-10 h-10 rounded-lg bg-yellow-100 flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-exclamation-triangle text-yellow-600"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-yellow-900 mb-1">Warning</h4>
                            <p class="text-sm text-yellow-700">{{ message }}</p>
                        </div>
                        <button onclick="this.parentElement.remove()" class="text-yellow-400 hover:text-yellow-600 transition-colors">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                {% else %}
                    <div class="flex items-start gap-3 p-4 bg-blue-50 border border-blue-200 rounded-xl" role="alert">
                        <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-info-circle text-blue-600"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-blue-900 mb-1">Info</h4>
                            <p class="text-sm text-blue-700">{{ message }}</p>
                        </div>
                        <button onclick="this.parentElement.remove()" class="text-blue-400 hover:text-blue-600 transition-colors">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}